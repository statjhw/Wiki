## 1. 금일 작업 및 기술 리뷰

### 1-1. 클래스 구조 설계 (Design Pattern)

다양한 데이터 저장 방식(JSON, DB)에 따른 코드 중복을 최소화하고 확장성을 높이기 위해 디자인 패턴을 적용했습니다.

<img src="images/1231_1.png" width="500" height="500"/>

출처: https://developnote.tistory.com/75 [?:티스토리]
- **구조 설명:**
    - `StorageLoader` (추상 클래스): 공통 인터페이스 정의.
    - `JsonLoader` & `SqliteLoader`: `StorageLoader`를 상속받아 각 저장 방식에 맞게 구현.
    - `ETLManager`: `StorageLoader` 클래스를 주입받아 저장 매체에 상관없이 동일한 로직으로 ETL 프로세스를 수행.
- **기대 효과:** 새로운 저장소(예: CSV, NoSQL)가 추가되어도 기존 코드 수정 없이 클래스 확장만으로 대응 가능하여 **개방-폐쇄 원칙(OCP)**을 준수함.

### 1-2. 데이터 추출(Extraction) 전략

Wikipedia 크롤링 대신 **IMF API**를 활용하여 데이터의 품질과 안정성을 확보했습니다.

- **API 선정 이유:**
    1. **데이터 신뢰도:** IMF 공식 데이터를 직접 수집하여 신뢰성 확보.
    2. **연속성 및 안정성:** HTML 태그 변경에 취약한 크롤링보다 API 기반 수집이 유지보수 측면에서 유리함.
- **데이터 결합 프로세스:**
    1. **GDP 데이터:** [IMF API (NGDPD)](https://www.imf.org/external/datamapper/api/v1/NGDPD)를 통해 ISO 국가코드별 GDP 수집.
    2. **국가명 매핑:** [IMF API (Countries)](https://www.imf.org/external/datamapper/api/v1//countries)를 활용해 ISO 코드를 국가명으로 변환.
    3. **대륙 정보 추가:** [공공데이터 포털](https://www.data.go.kr/data/15091117/fileData.do)의 ISO 국가코드-대륙명 데이터를 결합.
    - **최종 아웃풋:** `(국가명, 대륙명, GDP)` 형태의 통합 데이터셋 구축.

### 1-3. 데이터 저장(Storage) 및 최적화

단순 저장을 넘어 데이터의 이력 관리와 대용량 처리 효율을 고민했습니다.

- **메타데이터 관리:** JSON 저장 시 `api_url`, 수집 시점(`updated_time`), 데이터 기준 연도(`year`)를 포함하여 데이터의 context를 보존함.
- **저장 형식 최적화 (JSON vs JSONL):**
    - **JSON (O(n)):** 파일 추가 시 '전체 읽기 → 파싱 → 추가 → 전체 쓰기' 과정이 필요하여 파일 크기가 커질수록 오버헤드 발생.
    - **JSONL (O(1)):** '추가 모드(append)'로 한 줄씩 기록 가능. 파일 크기에 상관없이 동일한 성능(나노초 단위)을 유지하므로 대규모 데이터 처리에 적합하다고 판단하여 채택.
    
    | **특징** | **표준 JSON** | **JSONL (JSON Lines)** |
    | --- | --- | --- |
    | **추가 시간 복잡도** | $O(n)$ (전체 데이터 비례) | $O(1)$ (상수 시간) |
    | **메모리 효율** | 전체 데이터를 메모리에 로드 필요 | 한 줄씩 처리 가능하여 메모리 절약 |
    | **적합한 용도** | 설정 파일, 소규모 데이터 저장 | 로그 데이터, 대규모 데이터셋 적재 |

---

## 2. 개인 회고 (KPT)

### KEEP (지속할 점)

- **기록의 체계화:** 학습량이 많아 휘발되기 쉬운 내용을 노션에 즉시 기록하는 습관을 들임.
- **문서 구조화:** `리뷰(과정/배운 점)`, `개인 회고(느낀 점)`, `팀 회고록` 3단계로 구분하여 기록의 목적을 명확히 함.

### PROBLEM (해결할 점)

- **정리 역량 부족:** 여전히 정보의 우선순위를 정하거나 내용을 한눈에 들어오게 정리하는 데 시간이 오래 걸리고 체계가 부족하다고 느낌.

### TRY (시도할 점)

- **벤치마킹:** 오픈소스 프로젝트의 위키나 타 개발자의 기술 블로그를 참고하여 효과적인 문서 구조(Hierarchy)와 시각화 방식을 학습하고 내 문서에 적용해 볼 예정.